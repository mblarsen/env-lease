# CRUSH.md

This file contains guidelines for agentic coding agents working in this repository.

## Commands

- **Build:** `just build`
- **Lint:** `just lint`
- **Test:** `just test`
  - Run a single test: `just test-one TestMyFunction`
- **Format:** `just fmt`

## Code Style

- **Imports:** Group imports into three blocks: standard library, third-party, and internal.
- **Formatting:** Use `gofmt` or `goimports`. Run `just fmt` to format.
- **Types:** Use structs for complex data structures. Employ interfaces to define behavior.
- **Naming Conventions:**
  - Packages: lowercase, single-word names (e.g., `net/http` -> package `http`).
  - Variables & Functions: camelCase (e.g., `myVariable`, `myFunction`).
  - Exported identifiers: PascalCase (e.g., `MyType`, `MyFunction`).
- **Error Handling:** Use `error` as the last return value for functions that can fail. Handle errors explicitly; don't discard them.

## Project Structure

- **`cmd/`**: Main applications for the project.
- **`internal/`**: Private application and library code.
- **`pkg/`**: Public library code.
- **`api/`**: API definitions.

*Generated by an AI agent. Please update with project-specific details.*

---
## Agent Workflow

**Note:** This file and `GEMINI.md` contain complementary information. Any updates to agent workflow guidelines should be synchronized between both files.

When working on this project, agents must strictly adhere to the following workflow using the Task Master CLI:

1.  **Start a Task:** Before beginning any work, identify the next task by running `task-master next`.
2.  **Set Status to `in-progress`:** Once you have a task, immediately mark it as in-progress: `task-master set-status --id=<task-id> --status=in-progress`.
3.  **Implement the Task:** Perform all necessary coding, file modifications, and testing.
4.  **Complete the Task:** Once the task is fully implemented and verified, mark it as done: `task-master set-status --id=<task-id> --status=done`.
5.  **Commit Changes:** **Only after** marking the task as done, commit your changes. The `tasks.json` file, which was modified when you set the status to done, must be included in this commit. This ensures that the project's state and task status are always synchronized.
